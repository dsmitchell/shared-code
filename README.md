# Shared
Sample code for a presentation on Strategies for multi-platform development with Xcode & Swift

Based on the `Resolve` project from The App Studio LLC

IMPORTANT: Set your Development Team so that you can build and deploy to your device

## Project organization

There are 4 top-level folders in the project (2 are generated by Xcode)
* Frameworks - Xcode-generated folder for linked frameworks
* Platforms - contains 3 folders containing code & resources specific for each target: iOS, macOS, and tvOS
* Products - Xcode-generated folder for output targets
* Shared - contains folders for Common code and for code based on a framework: e.g. UIKit, Multipeer Connectivity, CoreLocation, etc

Within any of folders in Platforms and Shared, you may have the following folders
* Configuration - Anything related to an app's configuration: Info.plist, entitlements, bridging headers, AppDelegate, etc.
* Resources - Asset catalogs, movies, etc. that are not related to Storyboards (LaunchScreen.storyboard is ok because you can never use custom classes)
* Storyboards - contains .storyboard files and associated .swift files representing the custom classes within the storyboard

## Sharing code

* Extensions.swift: Contains "shims" (typealiases) to allow for common/normalized names for use in .swift files, as well as other platform-independent code
* VideoPlayerView.swift: Uses shims and a CALayer that is common to all three platforms to play a video
* VideoViewController.swift: Uses shims and the common VideoPlayerView, along with a button, to position and play the video
* AppDelegate-UIKit.swift: Common AppDelegate code for iOS, macCatalyst, and tvOS
* SceneDelegate-UIKit.swift: Common SceneDelegate code for iOS, macCatalyst, and tvOS
* Storyboards: each platform gets its own storyboard to handle configuration and layout of the video player view and button

## Specializing code

* Via Extensions
	* VideoViewController-iOS.swift: iOS-specific customizations of VideoViewController contained within the associated Storyboards folder
	* VideoViewController-tvOS.swift: tvOS-specific customizations of VideoViewController contained within the associated Storyboards folder
* Via compiler directives
	* VideoPlayerView.swift: Uses #if os(tvOS), #if os(macOS), #if targetEnvironment(macCatalyst), etc. only where necessary
